# =============================================================================
# OpenClaw Platform — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Whop Configuration (required)
# Get these from https://dash.whop.com → your app → Settings
# -----------------------------------------------------------------------------
WHOP_API_KEY=apik_your_whop_api_key_here
WHOP_APP_ID=app_your_whop_app_id_here
WHOP_WEBHOOK_KEY=your_webhook_signing_secret

# -----------------------------------------------------------------------------
# Database — PostgreSQL via Supabase (required)
# Get these from https://supabase.com → your project → Settings → Database
# -----------------------------------------------------------------------------

# Pooled connection (for application queries via PgBouncer)
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-1-[region].pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection (for Prisma migrations only)
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-1-[region].pooler.supabase.com:5432/postgres"

# Public Supabase URL (not currently used in app code, but kept for reference)
NEXT_PUBLIC_SUPABASE_URL=https://[project-ref].supabase.co

# -----------------------------------------------------------------------------
# Encryption (required)
# Used to encrypt user API keys stored in the database (AES-256-GCM)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# -----------------------------------------------------------------------------
ENCRYPTION_KEY=your_64_hex_char_encryption_key_here

# -----------------------------------------------------------------------------
# OpenRouter — AI model provider (required for platform models)
# Get your key from https://openrouter.ai/keys
# Fund your account at https://openrouter.ai/credits
# Currently powers: OpenClaw Pro (Qwen 3 32B), OpenClaw Fast (Claude Haiku 4)
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=sk-or-v1-your_openrouter_api_key_here

# -----------------------------------------------------------------------------
# AWS S3 — File attachment storage (required for attachments)
# Create a bucket and IAM user with PutObject, GetObject, DeleteObject permissions
# -----------------------------------------------------------------------------
AWS_S3_BUCKET=your-bucket-name
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# -----------------------------------------------------------------------------
# Redis (optional — not currently used, reserved for future caching/rate limiting)
# -----------------------------------------------------------------------------
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# Kubernetes / Infrastructure (optional — not needed for direct API mode)
# These are only needed when K8s per-user instance provisioning is enabled.
# -----------------------------------------------------------------------------
HETZNER_API_TOKEN=your_hetzner_api_token
K8S_API_URL=https://your-k8s-cluster-api
K8S_TOKEN=your_k8s_service_account_token
OPENCLAW_IMAGE=ghcr.io/openclaw/openclaw:latest
